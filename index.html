<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Product Manager</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <nav>
    <button onclick="showPage('list')">Product List</button>
    <button onclick="showPage('add')">Add Product</button>
  </nav>

  <div id="list-page" class="page">
    <h1>Product List</h1>
    <button id="delete-product-btn">MASS DELETE</button>
    <div id="product-container"></div>
  </div>

  <div id="add-page" class="page" style="display:none;">
    <h1>Product Add</h1>
    <form id="product_form">
      <label>SKU: <input type="text" id="sku" /></label><br />
      <label>Name: <input type="text" id="name" /></label><br />
      <label>Price ($): <input type="number" id="price" /></label><br />

      <label>Type Switcher:
        <select id="productType">
          <option value="">Select</option>
          <option value="DVD">DVD</option>
          <option value="Book">Book</option>
          <option value="Furniture">Furniture</option>
        </select>
      </label><br />

      <div id="DVD" class="type-fields">
        <label>Size (MB): <input type="number" id="size" /></label>
        <p>"Product description"</p>
      </div>

      <div id="Book" class="type-fields">
        <label>Weight (KG): <input type="number" id="weight" /></label>
        <p>"Product description"</p>
      </div>

      <div id="Furniture" class="type-fields">
        <label>Height (CM): <input type="number" id="height" /></label><br />
        <label>Width (CM): <input type="number" id="width" /></label><br />
        <label>Length (CM): <input type="number" id="length" /></label>
        <p>"Product description"</p>
      </div>

      <button type="button" onclick="saveProduct()">Save</button>
      <button type="button" onclick="showPage('list')">Cancel</button>
    </form>
  </div>

  <script>
    let products = [];

    function showPage(page) {
      document.getElementById('list-page').style.display = page === 'list' ? 'block' : 'none';
      document.getElementById('add-page').style.display = page === 'add' ? 'block' : 'none';
    }

    function renderProducts() {
      const container = document.getElementById('product-container');
      container.innerHTML = '';
      products.forEach(p => {
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
          <input type="checkbox" class="delete-checkbox" data-sku="${p.sku}" />
          <p>${p.sku}</p>
          <p>${p.name}</p>
          <p>${p.price.toFixed(2)} $</p>
          ${p.type === 'DVD' ? `<p>Size: ${p.size} MB</p>` : ''}
          ${p.type === 'Book' ? `<p>Weight: ${p.weight} KG</p>` : ''}
          ${p.type === 'Furniture' ? `<p>Dimension: ${p.height}x${p.width}x${p.length}</p>` : ''}
        `;
        container.appendChild(div);
      });
    }

    document.getElementById('delete-product-btn').addEventListener('click', () => {
      const checked = document.querySelectorAll('.delete-checkbox:checked');
      checked.forEach(chk => {
        const sku = chk.getAttribute('data-sku');
        products = products.filter(p => p.sku !== sku);
      });
      renderProducts();
    });

    document.getElementById('productType').addEventListener('change', function () {
      document.querySelectorAll('.type-fields').forEach(el => el.style.display = 'none');
      const selected = this.value;
      if (selected) document.getElementById(selected).style.display = 'block';
    });

    function saveProduct() {
      const sku = document.getElementById('sku').value;
      const name = document.getElementById('name').value;
      const price = parseFloat(document.getElementById('price').value);
      const type = document.getElementById('productType').value;
      const product = { sku, name, price, type };

      if (type === 'DVD') product.size = parseFloat(document.getElementById('size').value);
      if (type === 'Book') product.weight = parseFloat(document.getElementById('weight').value);
      if (type === 'Furniture') {
        product.height = parseFloat(document.getElementById('height').value);
        product.width = parseFloat(document.getElementById('width').value);
        product.length = parseFloat(document.getElementById('length').value);
      }

      products.push(product);
      renderProducts();
      showPage('list');
    }

    renderProducts();
  </script>
</body>
</html>